﻿@using System.Linq
@using System.IO
@using System.Xml.Linq
@{
  var conditionName = "_" + Model.NugetPackageId.Replace(".", string.Empty);
}
<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <PropertyGroup>
    <@(conditionName)>true</@(conditionName)>
  </PropertyGroup>  
  <ItemGroup>
    <AndroidLibrary 
      Condition=" '$(OS)' == 'Unix' and Exists('$(Home)/@(Model.LibRelativePath)') " 
      Include="$(Home)/@(Model.LibRelativePath)" 
      Bind="false" Pack="false" Visible="false"/>
    <AndroidLibrary       
      Condition=" '$(OS)' != 'Unix' and Exists('$(UserProfile)/@(Model.LibRelativePath)') " 
      Include="$(UserProfile)/@(Model.LibRelativePath)" 
      Bind="false" Pack="false" Visible="false" />
    <GradleDependencyResolverImplementation Condition=" $(@(conditionName)) == 'true' " Include="@(Model.GradleImplenetation)" />
  </ItemGroup>
</Project>